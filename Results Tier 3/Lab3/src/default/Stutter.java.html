<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../../../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../../../.resources/report.gif" type="image/gif"/><title>Stutter.java</title><link rel="stylesheet" href="../../../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../../../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="right"><a href="../../../.sessions.html" class="el_session">Sessions</a></span><a href="../../../index.html" class="el_report">Stutter (Nov 26, 2013 10:28:03 PM)</a> &gt; <a href="../../index.html" class="el_group">Lab3</a> &gt; <a href="../index.html" class="el_bundle">src</a> &gt; <a href="index.html" class="el_package">default</a> &gt; <span class="el_source">Stutter.java</span></div><h1>Stutter.java</h1><pre class="source lang-java linenums">
// Introduction to Software Testing
// Authors: Paul Ammann &amp; Jeff Offutt
// Chapter 2, section 2.5, page 80

/** *****************************************************
// Stutter checks for repeat words in a text file.
// It prints a list of repeat words, by line number.
// Stutter will accept standard input or a list
// of file names.
 *  Jeff Offutt, June 1989 (in C), Java version March 2003 
********************************************************* */
//import java.io.*;

<span class="nc" id="L15">class Stutter</span>
{
  // Class variables used in multiple methods.
<span class="fc" id="L18">  private static boolean lastdelimit = true;</span>
<span class="fc" id="L19">  private static String curWord = &quot;&quot;, prevWord = &quot;&quot;;</span>
<span class="fc" id="L20">  private static char delimits [] =</span>
<span class="fc" id="L21">          {'	', ' ', ',', '.', '!', '-', '+', '=', ';', ':', '?',</span>
<span class="fc" id="L22">           '&amp;', '{', '}', '\\'}; // First char in list is a tab</span>

//************************************************
// main parses the arguments, decides if stdin
// or a file name, and calls Stut().
//************************************************
public static void main (String[] args) throws IOException
{
   String fileName;
   FileReader myFile;
<span class="fc" id="L32">   BufferedReader inFile = null;</span>
   
<span class="fc" id="L34">   fileName=&quot;input.txt&quot;;</span>
<span class="fc" id="L35">   myFile = new FileReader (fileName);</span>
<span class="fc" id="L36">   inFile = new BufferedReader (myFile);</span>
/*
   if (args.length == 0)
   {  // no file, use stdin
  
    inFile = new BufferedReader (new InputStreamReader (System.in));
  // f;
   }
   else
   {
      fileName = args [0];
      if (fileName == null)
      {  // no file name, use stdin
         inFile = new BufferedReader (new InputStreamReader (System.in));
      }
      else
      {  // file name, open the file.
      
         myFile = new FileReader (fileName);
         inFile = new BufferedReader (myFile);
      }
   }
*/
<span class="fc" id="L59">   stut (inFile);</span>
<span class="fc" id="L60">}</span>

//************************************************
// Stut() reads all lines in the input stream, and
// finds words. Words are defined as being surrounded
// by delimiters as defined in the delimits[] array.
// Every time an end of word is found, checkDupes()
// is called to see if it is the same as the
// previous word.
//************************************************

private static void stut (BufferedReader inFile) throws IOException
{
	
   String inLine;
   char c;
<span class="fc" id="L76">   int linecnt = 1;</span>
<span class="pc bpc" id="L77" title="1 of 2 branches missed.">   while ((inLine = inFile.readLine()) != null)</span>
   {  // For each line

<span class="nc bnc" id="L80" title="All 2 branches missed.">      for (int i=0; i&lt;inLine.length(); i++)</span>
      {  // for each character
<span class="nc" id="L82">         c = inLine.charAt(i);</span>

<span class="nc bnc" id="L84" title="All 2 branches missed.">         if (isDelimit (c))</span>
         {  // Found an end of a word.
<span class="nc" id="L86">            checkDupes (linecnt);</span>
<span class="nc" id="L87">         }</span>
         else
         {
<span class="nc" id="L90">           lastdelimit = false;</span>
<span class="nc" id="L91">           curWord = curWord + c;</span>
         }
      }
 
<span class="nc" id="L95">      checkDupes (linecnt);</span>
<span class="nc" id="L96">      linecnt++;</span>

   }
<span class="fc" id="L99">	System.out.println(&quot;words is repeated&quot;);</span>
<span class="fc" id="L100">}  // end Stut</span>

//************************************************
// checkDupes() checks to see if the globally defined
// curWord is the same as prevWord and prints a message
// if they are the same.
//************************************************
private static void checkDupes (int line)
{
	
<span class="nc bnc" id="L110" title="All 2 branches missed.">   if (lastdelimit)</span>
<span class="nc" id="L111">   return; // already checked, keep skipping</span>
   
<span class="nc" id="L113">   lastdelimit = true;</span>
   /*
   if (curWord.equals(prevWord))
   {
      System.out.println (&quot;Repeated word on line &quot; + line + &quot;: &quot; +
                        prevWord+ &quot; &quot; + curWord);
   }
   else
   {
      prevWord = curWord;
   }
   curWord = &quot;&quot;;
*/
<span class="nc" id="L126">}  // end checkDupes</span>

//************************************************
// Checks to see if a character is a delimiter.
//************************************************
private static boolean isDelimit (char C)
{
	
<span class="nc bnc" id="L134" title="All 2 branches missed.">   for (int i = 0; i &lt; delimits.length; i++)</span>
<span class="nc bnc" id="L135" title="All 2 branches missed.">   if (C != delimits [i])</span>
<span class="nc" id="L136">      return (true);</span>
     
<span class="nc" id="L138">   return (false);</span>
   
}

} // end class Stutter
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.6.3.201306030806</span>Stutter (Nov 26, 2013 10:28:03 PM)</div></body></html>